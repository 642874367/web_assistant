var background=function(){"use strict";var Pe=Object.defineProperty;var Te=(M,E,O)=>E in M?Pe(M,E,{enumerable:!0,configurable:!0,writable:!0,value:O}):M[E]=O;var se=(M,E,O)=>Te(M,typeof E!="symbol"?E+"":E,O);var Q,X;function M(e){return e==null||typeof e=="function"?{main:e}:e}const E=((X=(Q=globalThis.browser)==null?void 0:Q.runtime)==null?void 0:X.id)==null?globalThis.chrome:globalThis.browser,O=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),ne=new Map(O);class B extends Error{constructor(r){super(B._prepareSuperMessage(r));se(this,"name","NonError")}static _prepareSuperMessage(r){try{return JSON.stringify(r)}catch{return String(r)}}}const te=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],F=new WeakSet,oe=e=>{F.add(e);const t=e.toJSON();return F.delete(e),t},z=e=>ne.get(e)??Error,D=({from:e,seen:t,to:r,forceEnumerable:l,maxDepth:y,depth:_,useToJSON:d,serialize:f})=>{if(!r)if(Array.isArray(e))r=[];else if(!f&&J(e)){const a=z(e.name);r=new a}else r={};if(t.push(e),_>=y)return r;if(d&&typeof e.toJSON=="function"&&!F.has(e))return oe(e);const m=a=>D({from:a,seen:[...t],forceEnumerable:l,maxDepth:y,depth:_,useToJSON:d,serialize:f});for(const[a,A]of Object.entries(e)){if(A&&A instanceof Uint8Array&&A.constructor.name==="Buffer"){r[a]="[object Buffer]";continue}if(A!==null&&typeof A=="object"&&typeof A.pipe=="function"){r[a]="[object Stream]";continue}if(typeof A!="function"){if(!A||typeof A!="object"){try{r[a]=A}catch{}continue}if(!t.includes(e[a])){_++,r[a]=m(e[a]);continue}r[a]="[Circular]"}}for(const{property:a,enumerable:A}of te)typeof e[a]<"u"&&e[a]!==null&&Object.defineProperty(r,a,{value:J(e[a])?m(e[a]):e[a],enumerable:l?!0:A,configurable:!0,writable:!0});return r};function ie(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:l=!0}=t;return typeof e=="object"&&e!==null?D({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:l,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function ae(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if(ge(e)){const l=z(e.name);return D({from:e,seen:[],to:new l,maxDepth:r,depth:0,serialize:!1})}return new B(e)}function J(e){return!!e&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}function ge(e){return!!e&&typeof e=="object"&&"message"in e&&!Array.isArray(e)}var le=Object.defineProperty,me=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,Z=(e,t,r)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,G=(e,t)=>{for(var r in t||(t={}))ue.call(t,r)&&Z(e,r,t[r]);if(V)for(var r of V(t))ce.call(t,r)&&Z(e,r,t[r]);return e},H=(e,t)=>me(e,Ae(t)),de=(e,t,r)=>new Promise((l,y)=>{var _=m=>{try{f(r.next(m))}catch(a){y(a)}},d=m=>{try{f(r.throw(m))}catch(a){y(a)}},f=m=>m.done?l(m.value):Promise.resolve(m.value).then(_,d);f((r=r.apply(e,t)).next())});function fe(e){let t,r={};function l(){Object.entries(r).length===0&&(t==null||t(),t=void 0)}let y=Math.floor(Math.random()*1e4);function _(){return y++}return{sendMessage(d,f,...m){return de(this,null,function*(){var a,A,x,k;const S={id:_(),type:d,data:f,timestamp:Date.now()},P=(A=yield(a=e.verifyMessageData)==null?void 0:a.call(e,S))!=null?A:S;(x=e.logger)==null||x.debug(`[messaging] sendMessage {id=${P.id}} ─ᐅ`,P,...m);const C=yield e.sendMessage(P,...m),{res:u,err:p}=C??{err:new Error("No response")};if((k=e.logger)==null||k.debug(`[messaging] sendMessage {id=${P.id}} ᐊ─`,{res:u,err:p}),p!=null)throw ae(p);return u})},onMessage(d,f){var m,a,A;if(t==null&&((m=e.logger)==null||m.debug(`[messaging] "${d}" initialized the message listener for this context`),t=e.addRootListener(x=>{var k,S;if(typeof x.type!="string"||typeof x.timestamp!="number"){if(e.breakError)return;const u=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(x)}`);throw(k=e.logger)==null||k.error(u),u}(S=e==null?void 0:e.logger)==null||S.debug("[messaging] Received message",x);const P=r[x.type];if(P==null)return;const C=P(x);return Promise.resolve(C).then(u=>{var p,L;return(L=(p=e.verifyMessageData)==null?void 0:p.call(e,u))!=null?L:u}).then(u=>{var p;return(p=e==null?void 0:e.logger)==null||p.debug(`[messaging] onMessage {id=${x.id}} ─ᐅ`,{res:u}),{res:u}}).catch(u=>{var p;return(p=e==null?void 0:e.logger)==null||p.debug(`[messaging] onMessage {id=${x.id}} ─ᐅ`,{err:u}),{err:ie(u)}})})),r[d]!=null){const x=Error(`[messaging] In this JS context, only one listener can be setup for ${d}`);throw(a=e.logger)==null||a.error(x),x}return r[d]=f,(A=e.logger)==null||A.log(`[messaging] Added listener for ${d}`),()=>{delete r[d],l()}},removeAllListeners(){Object.keys(r).forEach(d=>{delete r[d]}),l()}}}function xe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I={exports:{}},be=I.exports,Y;function pe(){return Y||(Y=1,function(e,t){(function(r,l){l(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:be,function(r){var l,y;if(!((y=(l=globalThis.chrome)==null?void 0:l.runtime)!=null&&y.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const _="The message port closed before a response was received.",d=f=>{const m={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(m).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(n,i=void 0){super(i),this.createItem=n}get(n){return this.has(n)||this.set(n,this.createItem(n)),super.get(n)}}const A=s=>s&&typeof s=="object"&&typeof s.then=="function",x=(s,n)=>(...i)=>{f.runtime.lastError?s.reject(new Error(f.runtime.lastError.message)):n.singleCallbackArg||i.length<=1&&n.singleCallbackArg!==!1?s.resolve(i[0]):s.resolve(i)},k=s=>s==1?"argument":"arguments",S=(s,n)=>function(g,...b){if(b.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${k(n.minArgs)} for ${s}(), got ${b.length}`);if(b.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${k(n.maxArgs)} for ${s}(), got ${b.length}`);return new Promise((h,w)=>{if(n.fallbackToNoCallback)try{g[s](...b,x({resolve:h,reject:w},n))}catch(o){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),g[s](...b),n.fallbackToNoCallback=!1,n.noCallback=!0,h()}else n.noCallback?(g[s](...b),h()):g[s](...b,x({resolve:h,reject:w},n))})},P=(s,n,i)=>new Proxy(n,{apply(g,b,h){return i.call(b,s,...h)}});let C=Function.call.bind(Object.prototype.hasOwnProperty);const u=(s,n={},i={})=>{let g=Object.create(null),b={has(w,o){return o in s||o in g},get(w,o,v){if(o in g)return g[o];if(!(o in s))return;let c=s[o];if(typeof c=="function")if(typeof n[o]=="function")c=P(s,s[o],n[o]);else if(C(i,o)){let N=S(o,i[o]);c=P(s,s[o],N)}else c=c.bind(s);else if(typeof c=="object"&&c!==null&&(C(n,o)||C(i,o)))c=u(c,n[o],i[o]);else if(C(i,"*"))c=u(c,n[o],i["*"]);else return Object.defineProperty(g,o,{configurable:!0,enumerable:!0,get(){return s[o]},set(N){s[o]=N}}),c;return g[o]=c,c},set(w,o,v,c){return o in g?g[o]=v:s[o]=v,!0},defineProperty(w,o,v){return Reflect.defineProperty(g,o,v)},deleteProperty(w,o){return Reflect.deleteProperty(g,o)}},h=Object.create(s);return new Proxy(h,b)},p=s=>({addListener(n,i,...g){n.addListener(s.get(i),...g)},hasListener(n,i){return n.hasListener(s.get(i))},removeListener(n,i){n.removeListener(s.get(i))}}),L=new a(s=>typeof s!="function"?s:function(i){const g=u(i,{},{getContent:{minArgs:0,maxArgs:0}});s(g)}),ee=new a(s=>typeof s!="function"?s:function(i,g,b){let h=!1,w,o=new Promise(j=>{w=function(T){h=!0,j(T)}}),v;try{v=s(i,g,w)}catch(j){v=Promise.reject(j)}const c=v!==!0&&A(v);if(v!==!0&&!c&&!h)return!1;const N=j=>{j.then(T=>{b(T)},T=>{let U;T&&(T instanceof Error||typeof T.message=="string")?U=T.message:U="An unexpected error occurred",b({__mozWebExtensionPolyfillReject__:!0,message:U})}).catch(T=>{console.error("Failed to send onMessage rejected reply",T)})};return N(c?v:o),!0}),Ee=({reject:s,resolve:n},i)=>{f.runtime.lastError?f.runtime.lastError.message===_?n():s(new Error(f.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?s(new Error(i.message)):n(i)},re=(s,n,i,...g)=>{if(g.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${k(n.minArgs)} for ${s}(), got ${g.length}`);if(g.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${k(n.maxArgs)} for ${s}(), got ${g.length}`);return new Promise((b,h)=>{const w=Ee.bind(null,{resolve:b,reject:h});g.push(w),i.sendMessage(...g)})},ke={devtools:{network:{onRequestFinished:p(L)}},runtime:{onMessage:p(ee),onMessageExternal:p(ee),sendMessage:re.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:re.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},W={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return m.privacy={network:{"*":W},services:{"*":W},websites:{"*":W}},u(f,ke,m)};r.exports=d(chrome)}else r.exports=globalThis.browser})}(I)),I.exports}var he=pe();const R=xe(he);function ye(e){return fe(H(G({},e),{sendMessage(t,r){if(r==null)return R.runtime.sendMessage(t);const l=typeof r=="number"?{tabId:r}:r;return R.tabs.sendMessage(l.tabId,t,l.frameId!=null?{frameId:l.frameId}:void 0)},addRootListener(t){const r=(l,y)=>t(typeof l=="object"?H(G({},l),{sender:y}):l);return R.runtime.onMessage.addListener(r),()=>R.runtime.onMessage.removeListener(r)}}))}const{onMessage:K}=ye(),we=M(()=>{console.log("Hello background!",{id:E.runtime.id}),K("togglePanel",e=>E.sidePanel.open()),K("updateResumeId",e=>(console.log("background updateResumeId:",e.data.resumeId),e.data.resumeId))});function _e(){}function $(e,...t){}const ve={debug:(...e)=>$(console.debug,...e),log:(...e)=>$(console.log,...e),warn:(...e)=>$(console.warn,...e),error:(...e)=>$(console.error,...e)};let q;try{q=we.main(),q instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(e){throw ve.error("The background crashed on startup!"),e}return q}();
background;
